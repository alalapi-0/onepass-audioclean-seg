{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "silences.json v1",
  "description": "静音区间列表（JSON 格式）",
  "type": "object",
  "properties": {
    "audio_path": {
      "type": "string",
      "description": "音频文件路径（绝对路径）"
    },
    "strategy": {
      "type": "string",
      "description": "分段策略",
      "enum": ["silence", "energy", "vad"],
      "default": "silence"
    },
    "params": {
      "type": "object",
      "description": "分析参数",
      "properties": {
        "silence_threshold_db": {
          "type": "number",
          "description": "静音检测阈值（dB）"
        },
        "min_silence_sec": {
          "type": "number",
          "description": "最小静音时长（秒），> 0",
          "minimum": 0,
          "exclusiveMinimum": true
        }
      },
      "required": ["silence_threshold_db", "min_silence_sec"]
    },
    "duration_sec": {
      "type": ["number", "null"],
      "description": "音频总时长（秒），round(3)，可选"
    },
    "silences": {
      "type": "array",
      "description": "静音区间列表",
      "items": {
        "type": "object",
        "properties": {
          "start_sec": {
            "type": "number",
            "description": "静音区间开始时间（秒），round(3)，>= 0",
            "minimum": 0
          },
          "end_sec": {
            "type": "number",
            "description": "静音区间结束时间（秒），round(3)，> start_sec",
            "minimum": 0
          },
          "duration_sec": {
            "type": "number",
            "description": "静音区间时长（秒），round(3)，约等于 (end_sec - start_sec)",
            "minimum": 0
          }
        },
        "required": ["start_sec", "end_sec", "duration_sec"]
      }
    }
  },
  "required": ["audio_path", "strategy", "params", "silences"]
}

